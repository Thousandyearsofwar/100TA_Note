# 光照基础
+ ## 颜色空间
+ ## 模型与材质
+ ## 基础语法介绍
+ ## 传统经验光照模型
  + ### 光照模型：
    #### 光照模型，也称明暗模型，用于计算物体某点的光强，从算法的理论基础而言，光照模型分为两类: 
    + #### 基于物理理论的光照模型
      + ##### 偏向于使用物理的度量和统计方法，效果真实，但计算量复制，实现比较麻烦
    + #### 经验模型
      + ##### 对光照的一种模拟，通过实践总结出的简化的方法，简化真实的光照计算。
  + ### 局部光照模型
    + #### 局部光照模型只关心直接光照部分，即光源发射出并照射到物体表面并反射接受到的光线。
      全局光照则是把间接光照也考虑进去。
      + #### 漫反射 diffuse
        + ##### 光线照射到模型表面，光线均匀得被反射到各个方向，这种现象称为漫反射
        + ##### 漫反射项一般采用Lambert公式进行模拟
          + ##### Lambert 余弦公式
            + ##### 在光学中通常以辐照度量化物理光线，其中光源每秒发射出的能量设为辐照通量P，单位面积接受到的能量为辐射通量密度(辐照度)P/A
            + ##### 当光源垂直照射的时候，单位面积的辐照度为$E_1=P/A_1$
            + ##### 当光源以某一个角度照射的时候，单位面积的辐照度为$E_2=P/A_2$ 
            + #### Lambert光照模型中$A_1$和$A_2$的关系是$cos{\theta}=\frac{A_1}{A_2}$
            + #### 所以 $E_2=\frac{P}{A_2}=\frac{P}{A_1}*cos{\theta}=E_1*cos{\theta}=E_1*dot(n,l)$
            ![图 17](../../images/diffuse.png)
            + #### 最终得出Lambert模型光照公式为 :
              #### $color=C_{light}*albedo*dot(Normal,L)$[1]
      + #### 高光反射
        + ##### 光线到达物体表面并发生了反射，观察视线在反射光线分布的附近，才能观察到高光反射。
        + ##### 高光反射描述了光线与物体表面发生的反射（光强不变，光线的方向发生改变）
        + 高光的反射率受菲涅尔效应影响
        + 渲染中，通常使用反射贴图描述物体表面的反射率，并使用光泽度来控制高光的衰减曲线。
          + #### $C_{Specular}=C_{light}*m_{Specular}*dot(V,R)^{m_{gloss}}$ [2]
          + #### $R=I-2*dot(N,L)*n$ [3]
            + ##### $m_{gloss}$是光泽度，$m_{specular}$为材质的反射率
            + ##### R为反射光向量，I入射光向量,N为法线向量,V为视线向量
            + V越靠近R则反射光线的辐照度就越大
            ![图 17](../../images/Specular.png)
      + #### 环境光
      + #### 自发光
  + ### 经典光照模型
    + ####
+ ## Bump Map的改进
+ ## 伽马矫正
+ ## LDR与HDR
+ ## FlowMap的实现
+ ## 待续